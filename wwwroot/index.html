<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motus - City Transit</title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@300;400;500&display=swap"
        rel="stylesheet">

    <!-- Leaflet Map CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>

<body>
    <!-- Privacy Consent Modal -->
    <div id="privacy-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2>Data Transparency</h2>
            </div>
            <div class="modal-content">
                <p>We believe in full transparency. To improve city services and offer real-time traffic updates, Motus
                    collects:</p>
                <ul>
                    <li><strong>Location Data:</strong> To show realtime ETAs and bus tracking.</li>
                    <li><strong>Usage Stats:</strong> To optimize bus frequency during peak hours.</li>
                </ul>
                <p class="privacy-note">Your personal identity is never sold. Data is aggregated to improve the city's
                    transport network.</p>
            </div>
            <div class="modal-actions">
                <button id="accept-privacy" class="btn btn-primary">I Understand & Accept</button>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h2 id="auth-title" data-i18n="auth_login_title">Login</h2>
                <button class="btn-icon close-modal" style="margin-left: auto;">√ó</button>
            </div>
            <div class="modal-content">
                <form id="auth-form">
                    <!-- Login Fields -->
                    <div id="login-fields">
                        <div class="input-group-vertical">
                            <label data-i18n="auth_email">Email</label>
                            <input type="email" id="auth-email" required placeholder="john@example.com">
                        </div>
                        <div class="input-group-vertical">
                            <label data-i18n="auth_password">Senha</label>
                            <input type="password" id="auth-password" required placeholder="********">
                        </div>
                    </div>

                    <!-- Register Extra Fields -->
                    <div id="register-fields" style="display: none;">
                        <div class="input-group-vertical">
                            <label data-i18n="reg_name">Nome Completo</label>
                            <input type="text" id="reg-name" placeholder="John Doe">
                        </div>
                        <!-- Email/Pass reused -->
                        <div class="input-group-vertical">
                            <label data-i18n="reg_home">Endere√ßo Residencial (Opcional)</label>
                            <input type="text" id="reg-home" placeholder="Rua XV de Novembro, 100">
                        </div>
                        <div class="input-group-vertical">
                            <label data-i18n="reg_work">Endere√ßo Comercial (Opcional)</label>
                            <input type="text" id="reg-work" placeholder="Centro C√≠vico">
                        </div>
                    </div>

                    <div class="modal-actions"
                        style="justify-content: space-between; display: flex; align-items: center;">
                        <a href="#" id="toggle-auth"
                            style="font-size: 0.9rem; color: var(--accent); text-decoration: none;"
                            data-i18n="auth_toggle_register">Criar conta</a>
                        <button type="submit" class="btn btn-primary" id="btn-auth-submit"
                            data-i18n="btn_login">Entrar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <div class="logo-icon">M</div>
                <span class="logo-text">Motus</span>
            </div>

            <!-- Language Selector -->
            <div class="lang-container">
                <select id="lang-selector" class="lang-select">
                    <option value="pt">üáßüá∑ Portugu√™s</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="en">üá∫üá∏ English</option>
                </select>
            </div>

            <div class="nav-menu">
                <a href="#dashboard" class="nav-item active">
                    <span class="icon">üìä</span> <span data-i18n="nav_dashboard">Dashboard</span>
                </a>
                <a href="#planner" class="nav-item">
                    <span class="icon">üó∫Ô∏è</span> <span data-i18n="nav_planner">Planejador</span>
                </a>
                <a href="#wallet" class="nav-item">
                    <span class="icon">üí≥</span> <span data-i18n="nav_wallet">Carteira</span>
                </a>
                <div class="favorites-section">
                    <h4 class="nav-header"><span data-i18n="nav_favorites">Favoritos</span> ‚ù§Ô∏è</h4>
                    <div id="favorites-list">
                        <!-- Fav items injected here -->
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main View -->
        <main class="main-content">
            <header class="top-bar">
                <div class="welcome-text">
                    <h1 data-i18n="header_welcome">Bom dia, Viajante</h1>
                    <p><span data-i18n="header_city">Cidade Atual:</span> <strong>Curitiba, Brazil</strong></p>
                </div>
                <div class="user-pill">
                    <span class="avatar">JB</span>
                </div>
            </header>

            <div class="content-wrapper">

                <!-- Section: Dashboard & Map -->
                <!-- Section: Dashboard & Map -->
                <section id="dashboard" class="section">
                    <!-- Real Map Container -->
                    <div class="map-container-wrapper">
                        <h3 data-i18n="map_title">Tr√°fego e Rede de Transporte</h3>
                        <div id="map"></div>
                        <div class="map-legend">
                            <div class="legend-item"><span class="dot green"></span> <span data-i18n="legend_bus">√înibus
                                    Expresso (Fluindo)</span></div>
                            <div class="legend-item"><span class="dot red"></span> <span
                                    data-i18n="legend_traffic">Tr√¢nsito em Tempo Real</span></div>
                        </div>
                    </div>
                </section>

                <!-- Section: Route Planner -->
                <section id="planner" class="section">
                    <div class="planner-card">
                        <h2 data-i18n="planner_title">Planeje sua Jornada</h2>

                        <!-- Mode Toggles -->
                        <div class="mode-toggles">
                            <button class="mode-btn active" data-mode="bus">üöå <span
                                    data-i18n="mode_bus">√înibus</span></button>
                            <button class="mode-btn" data-mode="walk">üö∂ <span data-i18n="mode_walk">A
                                    p√©</span></button>
                            <button class="mode-btn" data-mode="bike">üö≤ <span
                                    data-i18n="mode_bike">Bike</span></button>
                        </div>

                        <div class="route-inputs">
                            <div class="input-group">
                                <span class="dot start"></span>
                                <input type="text" data-i18n-placeholder="input_from" placeholder="Localiza√ß√£o Atual"
                                    value="Pra√ßa Tiradentes">
                            </div>
                            <div class="line-connector"></div>
                            <div class="input-group">
                                <span class="dot end"></span>
                                <input type="text" data-i18n-placeholder="input_to" placeholder="Para onde?"
                                    value="Jardim Bot√¢nico">
                            </div>
                            <button class="btn btn-search" data-i18n="btn_find">Buscar Rota</button>
                        </div>

                        <div id="route-results" class="route-results" style="display: none;">
                            <div class="result-header">
                                <h3 data-i18n="result_best">Melhor Rota</h3>
                                <button id="btn-save-fav" class="btn-icon" title="Save to Favorites">‚ù§Ô∏è</button>
                            </div>
                            <div class="result-details">
                                <p id="result-text">Taking Line 12 Express...</p>
                                <span id="result-eta" class="eta-tag">ETA: 10:45 AM</span>
                            </div>

                            <!-- Dynamic Comparison Widget -->
                            <div id="dynamic-comparison" class="dynamic-comparison">
                                <!-- Populated by JS, will need updates there -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section: Wallet -->
                <section id="wallet" class="section">
                    <h2 data-i18n="wallet_title">Carteira Digital</h2>
                    <div class="wallet-container">
                        <div class="digital-card">
                            <div class="card-header">
                                <span>Motus Pass</span>
                                <span class="contactless-icon">)))</span>
                            </div>
                            <div class="card-balance">
                                <span class="label" data-i18n="card_balance">Saldo</span>
                                <span class="amount">R$ 24,50</span>
                            </div>
                            <div class="card-footer">
                                <span>J. Benson</span>
                                <span>ID: 808-124-99</span>
                            </div>
                        </div>
                        <div class="wallet-actions">
                            <button class="btn btn-outline" data-i18n="btn_reload">Recarregar</button>
                            <button class="btn btn-primary" data-i18n="btn_tap">Pagar (Tap)</button>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script type="module" src="js/app.js"></script>
</body>

</html>